
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Francesco Bruzzesi">
      
      
        <link rel="canonical" href="https://fbruzzesi.github.io/anyschema/api-reference/parsers/">
      
      
        <link rel="prev" href="../anyschema/">
      
      
        <link rel="next" href="../adapters/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Parsers - AnySchema</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#parsers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="AnySchema" class="md-header__button md-logo" aria-label="AnySchema" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AnySchema
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Parsers
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/FBruzzesi/anyschema" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    FBruzzesi/anyschema
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="AnySchema" class="md-nav__button md-logo" aria-label="AnySchema" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    AnySchema
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/FBruzzesi/anyschema" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    FBruzzesi/anyschema
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metadata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced Usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/serde/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Serialization & Deserialization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/best-practices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Best Practices
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/custom-end-to-end-example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    End to End Example with Custom Components
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/openapi-compatibility/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenAPI Compatibility
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../anyschema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AnySchema
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Parsers
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Parsers
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserPipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        ParserPipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ParserPipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserPipeline.from_auto" class="md-nav__link">
    <span class="md-ellipsis">
      
        from_auto
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserPipeline.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserPipeline.parse_into_field" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse_into_field
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserPipeline.with_steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        with_steps
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.make_pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        make_pipeline
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parser-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parser Steps
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parser Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        ParserStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ParserStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserStep.pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        pipeline
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserStep.clone" class="md-nav__link">
    <span class="md-ellipsis">
      
        clone
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ForwardRefStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        ForwardRefStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ForwardRefStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ForwardRefStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.UnionTypeStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        UnionTypeStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UnionTypeStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.UnionTypeStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.AnnotatedStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        AnnotatedStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AnnotatedStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.AnnotatedStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.PyTypeStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        PyTypeStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PyTypeStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.PyTypeStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.annotated_types.AnnotatedTypesStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        AnnotatedTypesStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AnnotatedTypesStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.annotated_types.AnnotatedTypesStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.attrs.AttrsTypeStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        AttrsTypeStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AttrsTypeStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.attrs.AttrsTypeStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.pydantic.PydanticTypeStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        PydanticTypeStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PydanticTypeStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.pydantic.PydanticTypeStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.sqlalchemy.SQLAlchemyTypeStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        SQLAlchemyTypeStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQLAlchemyTypeStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.sqlalchemy.SQLAlchemyTypeStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adapters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Spec Adapters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../serde/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Serialization & Deserialization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../typing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Typing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserPipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        ParserPipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ParserPipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserPipeline.from_auto" class="md-nav__link">
    <span class="md-ellipsis">
      
        from_auto
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserPipeline.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserPipeline.parse_into_field" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse_into_field
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserPipeline.with_steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        with_steps
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.make_pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        make_pipeline
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parser-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parser Steps
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parser Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        ParserStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ParserStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserStep.pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        pipeline
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserStep.clone" class="md-nav__link">
    <span class="md-ellipsis">
      
        clone
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ParserStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ForwardRefStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        ForwardRefStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ForwardRefStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.ForwardRefStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.UnionTypeStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        UnionTypeStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UnionTypeStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.UnionTypeStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.AnnotatedStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        AnnotatedStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AnnotatedStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.AnnotatedStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.PyTypeStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        PyTypeStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PyTypeStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.PyTypeStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.annotated_types.AnnotatedTypesStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        AnnotatedTypesStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AnnotatedTypesStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.annotated_types.AnnotatedTypesStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.attrs.AttrsTypeStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        AttrsTypeStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AttrsTypeStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.attrs.AttrsTypeStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.pydantic.PydanticTypeStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        PydanticTypeStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PydanticTypeStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.pydantic.PydanticTypeStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.sqlalchemy.SQLAlchemyTypeStep" class="md-nav__link">
    <span class="md-ellipsis">
      
        SQLAlchemyTypeStep
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQLAlchemyTypeStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anyschema.parsers.sqlalchemy.SQLAlchemyTypeStep.parse" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="parsers">Parsers<a class="headerlink" href="#parsers" title="Permanent link">&para;</a></h1>
<h2 id="pipeline">Pipeline<a class="headerlink" href="#pipeline" title="Permanent link">&para;</a></h2>
<p>A parser pipeline is a sequence of <a href="#parser-steps">parser steps</a> that process type annotations to produce Narwhals
dtypes.</p>


<div class="doc doc-object doc-class">



<h3 id="anyschema.parsers.ParserPipeline" class="doc doc-heading">
            <code>anyschema.parsers.ParserPipeline</code>


<a href="#anyschema.parsers.ParserPipeline" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents first">



        <p>A pipeline of parser steps that tries each parser in sequence.</p>
<p>This allows for composable parsing where multiple parsers can be tried until one successfully handles the type.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>steps</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="IntoParserPipeline: TypeAlias = "Literal['auto'] | Sequence['ParserStep']"

  
      module-attribute
   (anyschema.typing.IntoParserPipeline)" href="../typing/#anyschema.typing.IntoParserPipeline">IntoParserPipeline</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Control how parser steps are configured:</p>
<ul>
<li><code>"auto"</code> (default): Automatically select appropriate parser steps based on installed dependencies.</li>
<li>A <a class="autorefs autorefs-internal" title="anyschema.parsers.ParserPipeline" href="#anyschema.parsers.ParserPipeline"><code>ParserPipeline</code></a> instance: Use the pipeline as-is.</li>
<li>A sequence of <a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep" href="#anyschema.parsers.ParserStep"><code>ParserStep</code></a> instances: Create pipeline with these steps.</li>
</ul>
              </div>
            </td>
            <td>
                  <code>&#39;auto&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the steps are not a sequence of <code>ParserStep</code> instances or a <code>ParserPipeline</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.ParserPipeline.from_auto" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_auto</span><span class="p">(</span><span class="n">steps</span><span class="p">:</span> <span class="n">ParserStep</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">ParserStep</span><span class="p">],</span> <span class="o">*</span><span class="n">more_steps</span><span class="p">:</span> <span class="n">ParserStep</span><span class="p">,</span> <span class="n">at_position</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;auto&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;auto&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#anyschema.parsers.ParserPipeline.from_auto" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Create an auto pipeline with custom steps efficiently (no copying needed).</p>


<details class="tip" open>
  <summary>Tip</summary>
  <p>This is the most efficient way to create a pipeline with custom steps when starting from
the auto configuration, as it doesn't need to copy the auto pipeline's steps.</p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>steps</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a> | <span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>ParserStep</code>(s) to add to the auto pipeline.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>*more_steps</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional <code>ParserStep</code>(s) to add, specified as positional arguments.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>at_position</code>
            </td>
            <td>
                  <code><span title="int">int</span> | <span title="typing.Literal">Literal</span>[&#39;auto&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position where to insert the step(s). Options:</p>
<ul>
<li>An integer index (can be negative for counting from the end).</li>
<li><code>"auto"</code> (default): Automatically determines the "best" position.
    The step(s) will be inserted after the last preprocessing step found.</li>
</ul>
              </div>
            </td>
            <td>
                  <code>&#39;auto&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing_extensions.Self">Self</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>ParserPipeline</code> instance with the auto steps and custom steps.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">anyschema.parsers</span><span class="w"> </span><span class="kn">import</span> <span class="n">ParserPipeline</span><span class="p">,</span> <span class="n">ParserStep</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">anyschema.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">FieldMetadata</span><span class="p">,</span> <span class="n">FieldType</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">CustomType</span><span class="p">:</span> <span class="o">...</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">CustomParserStep</span><span class="p">(</span><span class="n">ParserStep</span><span class="p">):</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">parse</span><span class="p">(</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="gp">... </span>        <span class="bp">self</span><span class="p">,</span> <span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="gp">... </span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nw</span><span class="o">.</span><span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="gp">... </span>        <span class="k">return</span> <span class="n">nw</span><span class="o">.</span><span class="n">String</span><span class="p">()</span> <span class="k">if</span> <span class="n">input_type</span> <span class="ow">is</span> <span class="n">CustomType</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">ParserPipeline</span><span class="o">.</span><span class="n">from_auto</span><span class="p">(</span><span class="n">CustomParserStep</span><span class="p">())</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Add multiple custom steps</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">ParserPipeline</span><span class="o">.</span><span class="n">from_auto</span><span class="p">(</span><span class="n">CustomParserStep</span><span class="p">(),</span> <span class="n">CustomParserStep</span><span class="p">())</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">CustomType</span><span class="p">,</span> <span class="n">constraints</span><span class="o">=</span><span class="p">(),</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{})</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="go">String</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.ParserPipeline.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">strict</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span></code>

<a href="#anyschema.parsers.ParserPipeline.parse" class="headerlink" title="Permanent link">&para;</a></h4>
          <div class="doc-overloads">
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">parse</span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="o">*</span><span class="p">,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">strict</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">True</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DType</span>
</span></code></pre></div><div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">parse</span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="o">*</span><span class="p">,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">strict</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">False</span><span class="p">]</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span>
</span></code></pre></div>          </div>


    <div class="doc doc-contents ">

        <p>Try each parser in sequence until one succeeds.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_type</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldType">FieldType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type to parse.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>constraints</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldConstraints">FieldConstraints</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constraints associated with the type.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldMetadata">FieldMetadata</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom metadata dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>strict</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to raise if unable to parse <code>input_type</code>.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.dtypes.DType">DType</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Narwhals DType from the first successful parser, or None if no parser succeeded and <code>strict=False</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.ParserPipeline.parse_into_field" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_into_field</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyField</span></code>

<a href="#anyschema.parsers.ParserPipeline.parse_into_field" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Parse a field specification into a AnyField object.</p>
<p>This is the recommended method for parsing field specifications at the top level.
It wraps the DType parsing with additional field-level information like nullability,
uniqueness, and custom metadata.</p>
<p>The metadata dictionary is populated during parsing (e.g., <code>UnionTypeStep</code> sets
<code>{"anyschema": {"nullable": True}}</code> for <code>Optional[T]</code> types), ensuring that forward references
are properly evaluated and avoiding code duplication.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the field.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_type</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldType">FieldType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type to parse.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>constraints</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldConstraints">FieldConstraints</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constraints associated with the type.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldMetadata">FieldMetadata</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom metadata dictionary. This dictionary may be modified during
parsing to add field-level metadata like <code>{"anyschema": {"nullable": True}}</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="AnyField


  
      dataclass
   (anyschema._anyschema.AnyField)" href="../anyschema/#anyschema.AnyField">AnyField</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <a class="autorefs autorefs-internal" title="AnyField


  
      dataclass
  " href="../anyschema/#anyschema.AnyField"><code>AnyField</code></a> instance containing the parsed dtype and field-level metadata.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">anyschema.parsers</span><span class="w"> </span><span class="kn">import</span> <span class="n">make_pipeline</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">make_pipeline</span><span class="p">()</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">field</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">parse_into_field</span><span class="p">(</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="p">(),</span> <span class="p">{})</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">field</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">AnyField(name=&#39;age&#39;, dtype=Int64, nullable=False, unique=False, description=None, metadata={})</span>
</span></code></pre></div>
    <p>With nullable=True metadata:</p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">field</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">parse_into_field</span><span class="p">(</span><span class="s2">&quot;email&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="p">(),</span> <span class="p">{</span><span class="s2">&quot;anyschema&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;nullable&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}})</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">field</span><span class="o">.</span><span class="n">nullable</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">True</span>
</span></code></pre></div>
    <p>With Optional type (auto-detected as nullable):</p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Optional</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">field</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">parse_into_field</span><span class="p">(</span><span class="s2">&quot;email&quot;</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="p">(),</span> <span class="p">{})</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">field</span><span class="o">.</span><span class="n">nullable</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">True</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.ParserPipeline.with_steps" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">with_steps</span><span class="p">(</span><span class="n">steps</span><span class="p">:</span> <span class="n">ParserStep</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">ParserStep</span><span class="p">],</span> <span class="o">*</span><span class="n">more_steps</span><span class="p">:</span> <span class="n">ParserStep</span><span class="p">,</span> <span class="n">at_position</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;auto&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;auto&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span></code>

<a href="#anyschema.parsers.ParserPipeline.with_steps" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Create a new pipeline with additional parser step(s) inserted at the specified position.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>steps</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a> | <span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>ParserStep</code>(s) to add to the pipeline.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>*more_steps</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional <code>ParserStep</code>(s) to add, specified as positional arguments.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>at_position</code>
            </td>
            <td>
                  <code><span title="int">int</span> | <span title="typing.Literal">Literal</span>[&#39;auto&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position where to insert the step(s). Options:</p>
<ul>
<li>An integer index (can be negative for counting from the end).</li>
<li><code>"auto"</code> (default): Automatically determines the "best" position.
    The step(s) will be inserted after the last preprocessing step found (trying <code>AnnotatedStep</code>,
    <code>UnionTypeStep</code>, <code>ForwardRefStep</code> in that order), ensuring custom parsers run after type
    preprocessing but before library-specific or fallback parsers.
    If no preprocessing steps are found, inserts at the beginning.</li>
</ul>
              </div>
            </td>
            <td>
                  <code>&#39;auto&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing_extensions.Self">Self</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>ParserPipeline</code> instance with the step(s) added at the specified position.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">anyschema.parsers</span><span class="w"> </span><span class="kn">import</span> <span class="n">ParserPipeline</span><span class="p">,</span> <span class="n">ParserStep</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">anyschema.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">FieldMetadata</span><span class="p">,</span> <span class="n">FieldType</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">CustomType</span><span class="p">:</span> <span class="o">...</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">CustomParserStep</span><span class="p">(</span><span class="n">ParserStep</span><span class="p">):</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">parse</span><span class="p">(</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="gp">... </span>        <span class="bp">self</span><span class="p">,</span> <span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="gp">... </span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nw</span><span class="o">.</span><span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="gp">... </span>        <span class="k">if</span> <span class="n">input_type</span> <span class="ow">is</span> <span class="n">CustomType</span><span class="p">:</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="gp">... </span>            <span class="k">return</span> <span class="n">nw</span><span class="o">.</span><span class="n">String</span><span class="p">()</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="gp">... </span>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">ParserPipeline</span><span class="p">(</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>  <span class="c1"># Start with auto pipeline</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Add single custom step</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">custom_pipeline</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">with_steps</span><span class="p">(</span><span class="n">CustomParserStep</span><span class="p">())</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Add multiple custom steps at once</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">custom_pipeline</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">with_steps</span><span class="p">([</span><span class="n">CustomParserStep</span><span class="p">(),</span> <span class="n">CustomParserStep</span><span class="p">()])</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Or add at specific position</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">custom_pipeline</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">with_steps</span><span class="p">(</span><span class="n">CustomParserStep</span><span class="p">(),</span> <span class="n">at_position</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">custom_pipeline</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">CustomType</span><span class="p">,</span> <span class="n">constraints</span><span class="o">=</span><span class="p">(),</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{})</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="go">String</span>
</span></code></pre></div>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="anyschema.parsers.make_pipeline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">anyschema</span><span class="o">.</span><span class="n">parsers</span><span class="o">.</span><span class="n">make_pipeline</span><span class="p">(</span><span class="n">steps</span><span class="p">:</span> <span class="n">IntoParserPipeline</span> <span class="o">=</span> <span class="s1">&#39;auto&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ParserPipeline</span></code>

<a href="#anyschema.parsers.make_pipeline" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents first">

        <p>Create a <a class="autorefs autorefs-internal" title="anyschema.parsers.ParserPipeline" href="#anyschema.parsers.ParserPipeline"><code>ParserPipeline</code></a> with the specified steps.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>steps</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="IntoParserPipeline: TypeAlias = "Literal['auto'] | Sequence['ParserStep']"

  
      module-attribute
   (anyschema.typing.IntoParserPipeline)" href="../typing/#anyschema.typing.IntoParserPipeline">IntoParserPipeline</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Control how parser steps are configured:</p>
<ul>
<li><code>"auto"</code> (default): Automatically select appropriate parser steps based on installed dependencies.</li>
<li>A <a class="autorefs autorefs-internal" title="anyschema.parsers.ParserPipeline" href="#anyschema.parsers.ParserPipeline"><code>ParserPipeline</code></a> instance: Return the pipeline as-is.</li>
<li>A sequence of <a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep" href="#anyschema.parsers.ParserStep"><code>ParserStep</code></a> instances: Create pipeline with these steps.</li>
</ul>
              </div>
            </td>
            <td>
                  <code>&#39;auto&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserPipeline (anyschema.parsers._pipeline.ParserPipeline)" href="#anyschema.parsers.ParserPipeline">ParserPipeline</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <a class="autorefs autorefs-internal" title="anyschema.parsers.ParserPipeline" href="#anyschema.parsers.ParserPipeline"><code>ParserPipeline</code></a> instance with the configured steps.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">anyschema.parsers</span><span class="w"> </span><span class="kn">import</span> <span class="n">make_pipeline</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">anyschema.parsers</span><span class="w"> </span><span class="kn">import</span> <span class="n">PyTypeStep</span><span class="p">,</span> <span class="n">UnionTypeStep</span><span class="p">,</span> <span class="n">AnnotatedStep</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">make_pipeline</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="p">[</span><span class="n">UnionTypeStep</span><span class="p">(),</span> <span class="n">AnnotatedStep</span><span class="p">(),</span> <span class="n">PyTypeStep</span><span class="p">()])</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">steps</span><span class="p">)</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">(UnionTypeStep, AnnotatedStep, PyTypeStep)</span>
</span></code></pre></div>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">make_pipeline</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">steps</span><span class="p">)</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">(ForwardRefStep, UnionTypeStep, ..., PydanticTypeStep, SQLAlchemyTypeStep, PyTypeStep)</span>
</span></code></pre></div>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the steps are not a sequence of <code>ParserStep</code> instances or a <code>ParserPipeline</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div><h2 id="parser-steps">Parser Steps<a class="headerlink" href="#parser-steps" title="Permanent link">&para;</a></h2>
<p>Parser steps are the building blocks of the type parsing pipeline. Each step handles specific type patterns.</p>
<p>For more details on how these work together, see the <a href="../../architecture/#parser-steps">parser steps</a>
section in the Architecture guide.</p>


<div class="doc doc-object doc-class">



<h3 id="anyschema.parsers.ParserStep" class="doc doc-heading">
            <code>anyschema.parsers.ParserStep</code>


<a href="#anyschema.parsers.ParserStep" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>



        <p>Abstract base class for parser steps that convert type annotations to Narwhals dtypes.</p>
<p>This class provides a framework for parsing different types of type annotations
and converting them into appropriate Narwhals data types. Each concrete parser
implementation handles specific type patterns or annotation styles.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="pipeline: ParserPipeline

  
      property
      writable
   (anyschema.parsers.ParserStep.pipeline)" href="#anyschema.parsers.ParserStep.pipeline">pipeline</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserPipeline (anyschema.parsers._pipeline.ParserPipeline)" href="#anyschema.parsers.ParserPipeline">ParserPipeline</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Property to access the <code>ParserPipeline</code>, raises <code>UnavailablePipelineError</code> if not set.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="UnavailablePipelineError (anyschema.exceptions.UnavailablePipelineError)" href="../exceptions/#anyschema.exceptions.UnavailablePipelineError">UnavailablePipelineError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When accessing pipeline before it's been set.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When setting pipeline with an object that's not a ParserPipeline instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>Subclasses must implement the <code>parse</code> method to define their specific parsing logic.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_origin</span><span class="p">,</span> <span class="n">get_args</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">anyschema.parsers</span><span class="w"> </span><span class="kn">import</span> <span class="n">ParserPipeline</span><span class="p">,</span> <span class="n">ParserStep</span><span class="p">,</span> <span class="n">PyTypeStep</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">anyschema.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">FieldMetadata</span><span class="p">,</span> <span class="n">FieldType</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">CustomType</span><span class="p">:</span> <span class="o">...</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">CustomList</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span> <span class="o">...</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">CustomParserStep</span><span class="p">(</span><span class="n">ParserStep</span><span class="p">):</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">parse</span><span class="p">(</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="gp">... </span>        <span class="bp">self</span><span class="p">,</span> <span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="gp">... </span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="gp">... </span>        <span class="k">if</span> <span class="n">input_type</span> <span class="ow">is</span> <span class="n">CustomType</span><span class="p">:</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="gp">... </span>            <span class="k">return</span> <span class="n">nw</span><span class="o">.</span><span class="n">String</span><span class="p">()</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="gp">...</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="gp">... </span>        <span class="k">if</span> <span class="n">get_origin</span><span class="p">(</span><span class="n">input_type</span><span class="p">)</span> <span class="ow">is</span> <span class="n">CustomList</span><span class="p">:</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="gp">... </span>            <span class="n">inner</span> <span class="o">=</span> <span class="n">get_args</span><span class="p">(</span><span class="n">input_type</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="gp">... </span>            <span class="c1"># Delegate to pipeline for recursion</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="gp">... </span>            <span class="n">inner_dtype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">inner</span><span class="p">,</span> <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">)</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="gp">... </span>            <span class="k">return</span> <span class="n">nw</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">inner_dtype</span><span class="p">)</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="gp">...</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="gp">... </span>        <span class="c1"># Return None if we can&#39;t handle it</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="gp">... </span>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">ParserPipeline</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="p">[</span><span class="n">CustomParserStep</span><span class="p">(),</span> <span class="n">PyTypeStep</span><span class="p">()])</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">CustomType</span><span class="p">,</span> <span class="n">constraints</span><span class="o">=</span><span class="p">(),</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{})</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="go">String</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">CustomList</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">constraints</span><span class="o">=</span><span class="p">(),</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{})</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="go">List(Int64)</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">CustomList</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">constraints</span><span class="o">=</span><span class="p">(),</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{})</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="go">List(String)</span>
</span></code></pre></div>











<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="anyschema.parsers.ParserStep.pipeline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline</span><span class="p">:</span> <span class="n">ParserPipeline</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

<a href="#anyschema.parsers.ParserStep.pipeline" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Property that returns the parser chain instance.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>ParserPipeline</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserPipeline (anyschema.parsers._pipeline.ParserPipeline)" href="#anyschema.parsers.ParserPipeline">ParserPipeline</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parser chain object used for parsing operations.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="UnavailablePipelineError (anyschema.exceptions.UnavailablePipelineError)" href="../exceptions/#anyschema.exceptions.UnavailablePipelineError">UnavailablePipelineError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the parser chain has not been initialized
(i.e., <code>_pipeline</code> is None).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>




<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.ParserStep.clone" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clone</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Self</span></code>

<a href="#anyschema.parsers.ParserStep.clone" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Create a clone of this parser step without a pipeline reference.</p>
<p>This method creates a shallow copy of the step, preserving any internal state
(such as configuration parameters) but resetting the pipeline reference to None.
This allows the cloned step to be added to a different pipeline without
violating the "pipeline can only be set once" constraint.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing_extensions.Self">Self</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new instance of the same parser step class with the same configuration</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing_extensions.Self">Self</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>but without a pipeline reference.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">anyschema.parsers</span><span class="w"> </span><span class="kn">import</span> <span class="n">ParserPipeline</span><span class="p">,</span> <span class="n">PyTypeStep</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a step and assign it to a pipeline</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">step</span> <span class="o">=</span> <span class="n">PyTypeStep</span><span class="p">()</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline1</span> <span class="o">=</span> <span class="n">ParserPipeline</span><span class="p">([</span><span class="n">step</span><span class="p">])</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Clone the step to use in another pipeline</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">cloned_step</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline2</span> <span class="o">=</span> <span class="n">ParserPipeline</span><span class="p">([</span><span class="n">cloned_step</span><span class="p">])</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="gp">&gt;&gt;&gt;</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Both pipelines work independently</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline1</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="p">(),</span> <span class="p">{})</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="go">Int64</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline2</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="p">(),</span> <span class="p">{})</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="go">Int64</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.ParserStep.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#anyschema.parsers.ParserStep.parse" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Parse a type annotation into a Narwhals dtype.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_type</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldType">FieldType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type to parse (e.g., int, str, list[int], etc.)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>constraints</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldConstraints">FieldConstraints</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constraints associated with the type (e.g., Gt, Le from annotated-types)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldMetadata">FieldMetadata</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom metadata dictionary</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.dtypes.DType">DType</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Narwhals DType if the parser can handle this type, None otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div><hr />
<p>The following steps are built-in and come dependency-free.</p>


<div class="doc doc-object doc-class">



<h3 id="anyschema.parsers.ForwardRefStep" class="doc doc-heading">
            <code>anyschema.parsers.ForwardRefStep</code>


<a href="#anyschema.parsers.ForwardRefStep" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a></code></p>



        <p>Parser for ForwardRef types (string annotations and forward references).</p>
<p>This parser handles type annotations that are forward references (ForwardRef),
which occur when using string annotations or referencing types before they're defined.</p>
<p>The parser resolves the ForwardRef to the actual type and delegates to the parser chain.</p>
<p>Initialization can be customized by providing a global and local namespace that will be used to evaluate the
forward references when resolving the type. The default namespace is built with common types, yet you can override
it with your own types.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>globalns</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Global namespace for evaluating forward references. Defaults to a namespace with common types.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>localns</code>
            </td>
            <td>
                  <code><span title="collections.abc.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Local namespace for evaluating forward references. Defaults to an empty namespace.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>











<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.ForwardRefStep.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span></code>

<a href="#anyschema.parsers.ForwardRefStep.parse" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Parse ForwardRef types by resolving them and delegating to the chain.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_type</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldType">FieldType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type to parse (may be a ForwardRef).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>constraints</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldConstraints">FieldConstraints</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constraints associated with the type.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldMetadata">FieldMetadata</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom metadata dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.dtypes.DType">DType</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Narwhals DType if this is a ForwardRef that can be resolved, None otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="anyschema.parsers.UnionTypeStep" class="doc doc-heading">
            <code>anyschema.parsers.UnionTypeStep</code>


<a href="#anyschema.parsers.UnionTypeStep" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a></code></p>



        <p>Parser for Union types including <code>Optional</code>.</p>
<p>Handles:</p>
<ul>
<li><code>Union[T, None]</code>, <code>T | None</code>, <code>Optional[T]</code></li>
<li>Extracts the non-None type and its metadata for further parsing</li>
</ul>











<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.UnionTypeStep.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span></code>

<a href="#anyschema.parsers.UnionTypeStep.parse" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Parse Union types, particularly Optional types.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_type</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldType">FieldType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type to parse.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>constraints</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldConstraints">FieldConstraints</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constraints associated with the type (will be preserved and passed through).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldMetadata">FieldMetadata</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom metadata dictionary (will be preserved and passed through).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.dtypes.DType">DType</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Narwhals DType by extracting the non-None type and delegating to the chain.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="anyschema.parsers.AnnotatedStep" class="doc doc-heading">
            <code>anyschema.parsers.AnnotatedStep</code>


<a href="#anyschema.parsers.AnnotatedStep" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a></code></p>



        <p>Parser for <code>typing.Annotated</code> types.</p>
<p>Handles:</p>
<ul>
<li><code>Annotated[T, metadata...]</code> - extracts the type and metadata for further parsing</li>
</ul>











<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.AnnotatedStep.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span></code>

<a href="#anyschema.parsers.AnnotatedStep.parse" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Parse Annotated types by extracting the base type and constraints.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_type</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldType">FieldType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type to parse.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>constraints</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldConstraints">FieldConstraints</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constraints associated with the type.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldMetadata">FieldMetadata</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom metadata dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.dtypes.DType">DType</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Narwhals DType by extracting the base type and delegating to the chain.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="anyschema.parsers.PyTypeStep" class="doc doc-heading">
            <code>anyschema.parsers.PyTypeStep</code>


<a href="#anyschema.parsers.PyTypeStep" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a></code></p>



        <p>Parser for Python builtin types.</p>
<p>Handles:</p>
<ul>
<li><code>int</code>, <code>float</code>, <code>decimal</code>, <code>str</code>, <code>bytes</code>, <code>bool</code>, <code>date</code>, <code>datetime</code>, <code>timedelta</code>, <code>time</code>, <code>object</code>, <code>Enum</code>,
    <code>Literal</code></li>
<li>generics: <code>list[T]</code>, <code>Sequence[T]</code>, <code>Iterable[T]</code>, <code>tuple[T, ...]</code></li>
<li><code>dict</code>,<code>Mapping[K, V]</code>, and typed dictionaries (<code>TypedDict</code>)</li>
</ul>











<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.PyTypeStep.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span></code>

<a href="#anyschema.parsers.PyTypeStep.parse" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Parse Python type annotations into Narwhals dtypes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_type</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldType">FieldType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type to parse.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>constraints</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldConstraints">FieldConstraints</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constraints associated with the type.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldMetadata">FieldMetadata</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom metadata dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.dtypes.DType">DType</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Narwhals DType if this parser can handle the type, None otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div><hr />


<div class="doc doc-object doc-class">



<h3 id="anyschema.parsers.annotated_types.AnnotatedTypesStep" class="doc doc-heading">
            <code>anyschema.parsers.annotated_types.AnnotatedTypesStep</code>


<a href="#anyschema.parsers.annotated_types.AnnotatedTypesStep" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a></code></p>



        <p>Parser for types with <code>annotated_types</code> metadata.</p>
<p>Handles:</p>
<ul>
<li>Integer constraints (<code>Gt</code>, <code>Ge</code>, <code>Lt</code>, <code>Le</code>, <code>Interval</code>)</li>
<li>Type refinement based on metadata</li>
</ul>


<details class="warning" open>
  <summary>Warning</summary>
  <p>It requires <a href="https://github.com/annotated-types/annotated-types">annotated-types</a> to be installed.</p>
</details>










<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.annotated_types.AnnotatedTypesStep.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span></code>

<a href="#anyschema.parsers.annotated_types.AnnotatedTypesStep.parse" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Parse types with annotated constraints into refined Narwhals dtypes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_type</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldType">FieldType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type to parse.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>constraints</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldConstraints">FieldConstraints</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constraints associated with the type (e.g., Gt, Ge, Lt, Le).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldMetadata">FieldMetadata</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom metadata dictionary (not used in this parser).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.dtypes.DType">DType</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Narwhals DType if this parser can refine the type based on constraints, None otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="anyschema.parsers.attrs.AttrsTypeStep" class="doc doc-heading">
            <code>anyschema.parsers.attrs.AttrsTypeStep</code>


<a href="#anyschema.parsers.attrs.AttrsTypeStep" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a></code></p>



        <p>Parser for attrs-specific types.</p>
<p>Handles:</p>
<ul>
<li>attrs classes (Struct types)</li>
</ul>


<details class="warning" open>
  <summary>Warning</summary>
  <p>It requires <a href="https://www.attrs.org/">attrs</a> to be installed.</p>
</details>










<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.attrs.AttrsTypeStep.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span></code>

<a href="#anyschema.parsers.attrs.AttrsTypeStep.parse" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Parse attrs-specific types into Narwhals dtypes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_type</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldType">FieldType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type to parse.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>constraints</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldConstraints">FieldConstraints</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constraints associated with the type.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldMetadata">FieldMetadata</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom metadata dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.dtypes.DType">DType</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Narwhals DType if this parser can handle the type, None otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="anyschema.parsers.pydantic.PydanticTypeStep" class="doc doc-heading">
            <code>anyschema.parsers.pydantic.PydanticTypeStep</code>


<a href="#anyschema.parsers.pydantic.PydanticTypeStep" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a></code></p>



        <p>Parser for Pydantic-specific types.</p>
<p>Handles:</p>
<ul>
<li>Pydantic datetime types (<code>AwareDatetime</code>, <code>NaiveDatetime</code>, etc.)</li>
<li>Pydantic date types (<code>PastDate</code>, <code>FutureDate</code>)</li>
<li>Pydantic <code>BaseModel</code> (Struct types)</li>
</ul>


<details class="warning" open>
  <summary>Warning</summary>
  <p>It requires <a href="https://docs.pydantic.dev/latest/">pydantic</a> to be installed.</p>
</details>










<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.pydantic.PydanticTypeStep.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span></code>

<a href="#anyschema.parsers.pydantic.PydanticTypeStep.parse" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Parse Pydantic-specific types into Narwhals dtypes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_type</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldType">FieldType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type to parse.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>constraints</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldConstraints">FieldConstraints</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constraints associated with the type.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldMetadata">FieldMetadata</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom metadata dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.dtypes.DType">DType</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Narwhals DType if this parser can handle the type, None otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="anyschema.parsers.sqlalchemy.SQLAlchemyTypeStep" class="doc doc-heading">
            <code>anyschema.parsers.sqlalchemy.SQLAlchemyTypeStep</code>


<a href="#anyschema.parsers.sqlalchemy.SQLAlchemyTypeStep" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="anyschema.parsers.ParserStep (anyschema.parsers._base.ParserStep)" href="#anyschema.parsers.ParserStep">ParserStep</a></code></p>



        <p>Parser for SQLAlchemy-specific types.</p>
<p>Handles:</p>
<ul>
<li>SQLAlchemy column types (Integer, String, DateTime, etc.)</li>
<li>SQLAlchemy relationship types</li>
<li>SQLAlchemy custom types</li>
</ul>


<details class="warning" open>
  <summary>Warning</summary>
  <p>It requires <a href="https://www.sqlalchemy.org/">sqlalchemy</a> to be installed.</p>
</details>










<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="anyschema.parsers.sqlalchemy.SQLAlchemyTypeStep.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">input_type</span><span class="p">:</span> <span class="n">FieldType</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">FieldConstraints</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">FieldMetadata</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DType</span> <span class="o">|</span> <span class="kc">None</span></code>

<a href="#anyschema.parsers.sqlalchemy.SQLAlchemyTypeStep.parse" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Parse SQLAlchemy-specific types into Narwhals dtypes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_type</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldType">FieldType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type to parse.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>constraints</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldConstraints">FieldConstraints</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constraints associated with the type.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="anyschema.typing.FieldMetadata">FieldMetadata</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom metadata dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.dtypes.DType">DType</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Narwhals DType if this parser can handle the type, None otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../anyschema/" class="md-footer__link md-footer__link--prev" aria-label="Previous: AnySchema">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                AnySchema
              </div>
            </div>
          </a>
        
        
          
          <a href="../adapters/" class="md-footer__link md-footer__link--next" aria-label="Next: Spec Adapters">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Spec Adapters
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy", "content.code.annotate", "navigation.footer", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../javascript/extra.js"></script>
      
    
  </body>
</html>